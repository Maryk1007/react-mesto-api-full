{"ast":null,"code":"import _objectSpread from\"/Users/ivanlapsov/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ivanlapsov/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import{api}from\"../utils/api.js\";import Card from\"./Card.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];useEffect(function(){Promise.all([api.getProfile(),api.getCardItems()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),res=_ref3[0],cards=_ref3[1];setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);setCards(cards);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-avatar\",type:\"button\",onClick:onEditAvatar}),/*#__PURE__*/_jsx(\"img\",{className:\"profile__picture\",src:userAvatar,alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-change\",type:\"button\",\"aria-label\":\"\\u043A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438 \\u0432 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u0435\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__self-description\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-addphoto\",type:\"button\",\"aria-label\":\"\\u043A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0439\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"images\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"images__list\",children:cards.map(function(card){return/*#__PURE__*/_createElement(Card,_objectSpread(_objectSpread({},card),{},{key:card._id,onCardClick:onCardClick}));})})})]});}export default Main;","map":{"version":3,"names":["React","useEffect","api","Card","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","Promise","all","getProfile","getCardItems","then","res","name","about","avatar","catch","err","console","log","map","card","_id"],"sources":["/Users/ivanlapsov/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import React, { useEffect } from \"react\"\nimport {api} from \"../utils/api.js\"\nimport Card from \"./Card.js\";\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\n    const [userName, setUserName] = React.useState('');\n    const [userDescription, setUserDescription] = React.useState('');\n    const [userAvatar, setUserAvatar] = React.useState('');\n    const [cards, setCards] = React.useState([]);\n\n    useEffect(() =>{\n        Promise.all([api.getProfile(), api.getCardItems()])\n            .then(([res, cards]) => {\n                setUserName(res.name);\n                setUserDescription(res.about);\n                setUserAvatar(res.avatar);\n                setCards(cards);\n            })\n            .catch(err => {\n                console.log(err)\n              });\n    }, [])\n   \n    return (\n        <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <button className=\"profile__edit-avatar\" type=\"button\" onClick={onEditAvatar}></button>\n            <img className=\"profile__picture\" src={userAvatar} alt=\"аватарка пользователя\"/>\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{userName}</h1>\n            <button className=\"profile__button-change\" type=\"button\" aria-label=\"кнопка редактирования информации в профиле\" onClick={onEditProfile}></button>\n            <p className=\"profile__self-description\">{userDescription}</p>\n          </div>\n          <button className=\"profile__button-addphoto\" type=\"button\" aria-label=\"кнопка добавления фотографий\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"images\">\n          <ul className=\"images__list\">\n            {\n                cards.map((card) => (\n                <Card {...card} key={card._id} onCardClick={onCardClick}/>\n                ))\n            }\n          </ul>\n        </section>\n      </main>\n    )\n}\n\nexport default Main"],"mappings":"6OAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,GAAR,KAAkB,iBAAlB,CACA,MAAOC,KAAP,KAAiB,WAAjB,C,2IAEA,QAASC,KAAT,MAAsE,IAAvDC,cAAuD,MAAvDA,aAAuD,CAAxCC,UAAwC,MAAxCA,UAAwC,CAA5BC,YAA4B,MAA5BA,YAA4B,CAAdC,WAAc,MAAdA,WAAc,CAClE,oBAAgCR,KAAK,CAACS,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8CX,KAAK,CAACS,QAAN,CAAe,EAAf,CAA9C,qDAAOG,eAAP,qBAAwBC,kBAAxB,qBACA,qBAAoCb,KAAK,CAACS,QAAN,CAAe,EAAf,CAApC,qDAAOK,UAAP,qBAAmBC,aAAnB,qBACA,qBAA0Bf,KAAK,CAACS,QAAN,CAAe,EAAf,CAA1B,qDAAOO,KAAP,qBAAcC,QAAd,qBAEAhB,SAAS,CAAC,UAAK,CACXiB,OAAO,CAACC,GAAR,CAAY,CAACjB,GAAG,CAACkB,UAAJ,EAAD,CAAmBlB,GAAG,CAACmB,YAAJ,EAAnB,CAAZ,EACKC,IADL,CACU,eAAkB,mCAAhBC,GAAgB,UAAXP,KAAW,UACpBL,WAAW,CAACY,GAAG,CAACC,IAAL,CAAX,CACAX,kBAAkB,CAACU,GAAG,CAACE,KAAL,CAAlB,CACAV,aAAa,CAACQ,GAAG,CAACG,MAAL,CAAb,CACAT,QAAQ,CAACD,KAAD,CAAR,CACH,CANL,EAOKW,KAPL,CAOW,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CATP,EAUH,CAXQ,CAWN,EAXM,CAAT,CAaA,mBACI,cAAM,SAAS,CAAC,SAAhB,wBACA,iBAAS,SAAS,CAAC,SAAnB,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,eAAQ,SAAS,CAAC,sBAAlB,CAAyC,IAAI,CAAC,QAA9C,CAAuD,OAAO,CAAErB,YAAhE,EADF,cAEE,YAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEO,UAAvC,CAAmD,GAAG,CAAC,2HAAvD,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+BJ,QAA/B,EADF,cAEE,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,IAAI,CAAC,QAAhD,CAAyD,aAAW,0OAApE,CAAiH,OAAO,CAAEL,aAA1H,EAFF,cAGE,UAAG,SAAS,CAAC,2BAAb,UAA0CO,eAA1C,EAHF,GALF,cAUE,eAAQ,SAAS,CAAC,0BAAlB,CAA6C,IAAI,CAAC,QAAlD,CAA2D,aAAW,gKAAtE,CAAqG,OAAO,CAAEN,UAA9G,EAVF,GADA,cAaA,gBAAS,SAAS,CAAC,QAAnB,uBACE,WAAI,SAAS,CAAC,cAAd,UAEMU,KAAK,CAACe,GAAN,CAAU,SAACC,IAAD,qBACV,eAAC,IAAD,gCAAUA,IAAV,MAAgB,GAAG,CAAEA,IAAI,CAACC,GAA1B,CAA+B,WAAW,CAAEzB,WAA5C,GADU,EAAV,CAFN,EADF,EAbA,GADJ,CAyBH,CAED,cAAeJ,KAAf"},"metadata":{},"sourceType":"module"}