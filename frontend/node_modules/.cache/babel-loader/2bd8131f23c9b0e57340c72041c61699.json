{"ast":null,"code":"import _defineProperty from\"/Users/ivanlapsov/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ivanlapsov/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ivanlapsov/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from\"react\";import{NavLink}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var handleRegister=_ref.handleRegister;var _useState=useState('Зарегистрироваться'),_useState2=_slicedToArray(_useState,2),isContentSubmitButton=_useState2[0],setContentSubmitButton=_useState2[1];var _useState3=useState({email:'',password:''}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var email=data.email,password=data.password;var handleChange=useCallback(function(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});},[setData]);var handleSubmit=function handleSubmit(evt){evt.preventDefault();renderLoading(true);handleRegister({email:email,password:password,onRenderLoading:function onRenderLoading(){renderLoading(false);}});};// изменение текста кнопки при отправке формы\nvar renderLoading=function renderLoading(isLoading){isLoading?setContentSubmitButton('Регистрация...'):setContentSubmitButton('Зарегистрироваться');};return/*#__PURE__*/_jsxs(\"section\",{className:\"auth\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-startpage\",name:\"register\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-startpage__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-startpage__input\",value:email||'',onChange:handleChange,type:\"email\",name:\"email\",id:\"email-input\",required:true,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 email\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-startpage__field-error\",id:\"error-email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-startpage__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-startpage__input\",value:password||'',onChange:handleChange,type:\"password\",name:\"password\",id:\"password-input\",required:true,placeholder:\"\\u041F\\u0440\\u0438\\u0434\\u0443\\u043C\\u0430\\u0439\\u0442\\u0435 \\u043D\\u0430\\u0434\\u0435\\u0436\\u043D\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-startpage__field-error\",id:\"error-password\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-startpage__button\",type:\"submit\",name:\"submit\",children:isContentSubmitButton})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth__logintip\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\",/*#__PURE__*/_jsx(NavLink,{to:\"/sign-in\",className:\"auth__login-link\",children:\" \\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}export default Register;","map":{"version":3,"names":["useState","useCallback","NavLink","Register","handleRegister","isContentSubmitButton","setContentSubmitButton","email","password","data","setData","handleChange","evt","target","name","value","prevState","handleSubmit","preventDefault","renderLoading","onRenderLoading","isLoading"],"sources":["/Users/ivanlapsov/dev/react-mesto-auth/src/components/Register.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport { NavLink } from 'react-router-dom';\n\nfunction Register({handleRegister}) {\n  const [isContentSubmitButton, setContentSubmitButton] = useState('Зарегистрироваться');\n  const [data, setData] = useState({\n    email: '',\n    password: '',\n  });\n\n  const { email, password } = data;\n\n  const handleChange = useCallback((evt)=>{\n    const { name, value } = evt.target\n    setData(prevState=>({...prevState, [name]: value}))\n  }, [setData]);\n\n  const handleSubmit = (evt)=>{\n    evt.preventDefault();\n    renderLoading(true);\n    handleRegister({\n      email,\n      password,\n      onRenderLoading: ()=>{\n        renderLoading(false)\n      },\n    })\n  }\n\n// изменение текста кнопки при отправке формы\n  const renderLoading = (isLoading)=>{\n    isLoading ? setContentSubmitButton('Регистрация...') : setContentSubmitButton('Зарегистрироваться')\n  }\n\n  return (\n    <section className=\"auth\">\n      <h2 className=\"auth__title\">Регистрация</h2>\n      <form\n        className=\"form-startpage\"\n        name=\"register\"\n        onSubmit={handleSubmit}\n        noValidate>\n        <div className=\"form-startpage__field\">\n          <input\n            className=\"form-startpage__input\"\n            value={email || ''}\n            onChange={handleChange}\n            type=\"email\"\n            name=\"email\"\n            id=\"email-input\"\n            required\n            placeholder=\"Введите ваш email\" />\n          <span className=\"form-startpage__field-error\" id=\"error-email\"></span>\n        </div>\n        <div className=\"form-startpage__field\">\n          <input\n            className=\"form-startpage__input\"\n            value={password || ''}\n            onChange={handleChange}\n            type=\"password\"\n            name=\"password\"\n            id=\"password-input\"\n            required\n            placeholder=\"Придумайте надежный пароль\" />\n          <span className=\"form-startpage__field-error\" id=\"error-password\"></span>\n        </div>\n        <button\n          className=\"form-startpage__button\"\n          type=\"submit\"\n          name=\"submit\">{isContentSubmitButton}</button>\n      </form>\n      <p className='auth__logintip'>Уже зарегистрированы?\n        <NavLink to=\"/sign-in\" className=\"auth__login-link\"> Войти</NavLink>\n      </p>\n    </section>\n  )\n}\n\nexport default Register;\n"],"mappings":"qXAAA,OAASA,QAAT,CAAmBC,WAAnB,KAAsC,OAAtC,CACA,OAASC,OAAT,KAAwB,kBAAxB,C,wFAEA,QAASC,SAAT,MAAoC,IAAjBC,eAAiB,MAAjBA,cAAiB,CAClC,cAAwDJ,QAAQ,CAAC,oBAAD,CAAhE,wCAAOK,qBAAP,eAA8BC,sBAA9B,eACA,eAAwBN,QAAQ,CAAC,CAC/BO,KAAK,CAAE,EADwB,CAE/BC,QAAQ,CAAE,EAFqB,CAAD,CAAhC,yCAAOC,IAAP,eAAaC,OAAb,eAKA,GAAQH,MAAR,CAA4BE,IAA5B,CAAQF,KAAR,CAAeC,QAAf,CAA4BC,IAA5B,CAAeD,QAAf,CAEA,GAAMG,aAAY,CAAGV,WAAW,CAAC,SAACW,GAAD,CAAO,CACtC,gBAAwBA,GAAG,CAACC,MAA5B,CAAQC,IAAR,aAAQA,IAAR,CAAcC,KAAd,aAAcA,KAAd,CACAL,OAAO,CAAC,SAAAM,SAAS,wCAAOA,SAAP,wBAAmBF,IAAnB,CAA0BC,KAA1B,IAAV,CAAP,CACD,CAH+B,CAG7B,CAACL,OAAD,CAH6B,CAAhC,CAKA,GAAMO,aAAY,CAAG,QAAfA,aAAe,CAACL,GAAD,CAAO,CAC1BA,GAAG,CAACM,cAAJ,GACAC,aAAa,CAAC,IAAD,CAAb,CACAf,cAAc,CAAC,CACbG,KAAK,CAALA,KADa,CAEbC,QAAQ,CAARA,QAFa,CAGbY,eAAe,CAAE,0BAAI,CACnBD,aAAa,CAAC,KAAD,CAAb,CACD,CALY,CAAD,CAAd,CAOD,CAVD,CAYF;AACE,GAAMA,cAAa,CAAG,QAAhBA,cAAgB,CAACE,SAAD,CAAa,CACjCA,SAAS,CAAGf,sBAAsB,CAAC,gBAAD,CAAzB,CAA8CA,sBAAsB,CAAC,oBAAD,CAA7E,CACD,CAFD,CAIA,mBACE,iBAAS,SAAS,CAAC,MAAnB,wBACE,WAAI,SAAS,CAAC,aAAd,gFADF,cAEE,cACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAEW,YAHZ,CAIE,UAAU,KAJZ,wBAKE,aAAK,SAAS,CAAC,uBAAf,wBACE,cACE,SAAS,CAAC,uBADZ,CAEE,KAAK,CAAEV,KAAK,EAAI,EAFlB,CAGE,QAAQ,CAAEI,YAHZ,CAIE,IAAI,CAAC,OAJP,CAKE,IAAI,CAAC,OALP,CAME,EAAE,CAAC,aANL,CAOE,QAAQ,KAPV,CAQE,WAAW,CAAC,qEARd,EADF,cAUE,aAAM,SAAS,CAAC,6BAAhB,CAA8C,EAAE,CAAC,aAAjD,EAVF,GALF,cAiBE,aAAK,SAAS,CAAC,uBAAf,wBACE,cACE,SAAS,CAAC,uBADZ,CAEE,KAAK,CAAEH,QAAQ,EAAI,EAFrB,CAGE,QAAQ,CAAEG,YAHZ,CAIE,IAAI,CAAC,UAJP,CAKE,IAAI,CAAC,UALP,CAME,EAAE,CAAC,gBANL,CAOE,QAAQ,KAPV,CAQE,WAAW,CAAC,oJARd,EADF,cAUE,aAAM,SAAS,CAAC,6BAAhB,CAA8C,EAAE,CAAC,gBAAjD,EAVF,GAjBF,cA6BE,eACE,SAAS,CAAC,wBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,IAAI,CAAC,QAHP,UAGiBN,qBAHjB,EA7BF,GAFF,cAoCE,WAAG,SAAS,CAAC,gBAAb,+IACE,KAAC,OAAD,EAAS,EAAE,CAAC,UAAZ,CAAuB,SAAS,CAAC,kBAAjC,6CADF,GApCF,GADF,CA0CD,CAED,cAAeF,SAAf"},"metadata":{},"sourceType":"module"}