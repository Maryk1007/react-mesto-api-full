{"ast":null,"code":"var _jsxFileName = \"/Users/ivanlapsov/dev/react-mesto-auth/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Route, Redirect, Switch, useHistory } from 'react-router-dom';\nimport { api } from \"../utils/api.js\";\nimport * as auth from \"../utils/auth.js\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport ProtectedRoute from './ProtectedRoute.js';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const history = useHistory();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isPopupProfileOpen, setIsPopupProfileOpen] = useState(false);\n  const [isPopupPhotoOpen, setIsPopupPhotoOpen] = useState(false);\n  const [isPopupAvatarOpen, setIsPopupAvatarOpen] = useState(false);\n  const [isPopupConfirmDelete, setIsPopupConfirmDelete] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isRegistrationSuccessful, setIsRegistrationSuccessful] = useState();\n  const [selectCard, setSelectCard] = useState({});\n  const [cardDelete, setCardDelete] = useState({}); // использование токена при возврате на сайт\n\n  useEffect(() => {\n    tokenCheck();\n  }, []); // при успешной авторизации переход на основную страницу\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [loggedIn]); // при успешном входе получение данных пользователя и массива карточек\n\n  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getProfile(), api.getCardItems()]).then(_ref => {\n        let [res, cards] = _ref;\n        setCurrentUser(res);\n        setCards(cards);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [loggedIn]); // регистрация пользователей\n\n  const handleRegister = updateRegister => {\n    return auth.register(updateRegister.email, updateRegister.password).then(() => {\n      setIsInfoTooltipOpen(true);\n      setIsRegistrationSuccessful(true);\n      history.push('/sign-in');\n    }).catch(() => {\n      setIsInfoTooltipOpen(true);\n      setIsRegistrationSuccessful(false);\n    }).finally(() => {\n      updateRegister.onRenderLoading(false);\n    });\n  }; // авторизация пользователей\n\n\n  const handleLogin = updateLogin => {\n    return auth.authorize(updateLogin.email, updateLogin.password).then(data => {\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        setLoggedIn(true);\n        history.push('/');\n      }\n    }).catch(() => {\n      setIsInfoTooltipOpen(true);\n      setIsRegistrationSuccessful(false);\n    }).finally(() => {\n      updateLogin.onRenderLoading(false);\n    });\n  }; // получение токена\n\n\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      auth.getContent(token).then(res => {\n        if (res) {\n          setUserEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      }).catch(err => console.log(err));\n    }\n\n    ;\n  }\n\n  ; //выход со страницы с информацией пользователя\n\n  const signOut = () => {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }; // изменение информации в профиле\n\n\n  function handleUpdateUser(updateUser) {\n    api.editProfile(updateUser.name, updateUser.about).then(res => {\n      setCurrentUser(res);\n      setIsPopupProfileOpen(false);\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      updateUser.onRenderLoading(false);\n    });\n  } // добавление новых фото\n\n\n  function handleAddPlaceSubmit(newCard) {\n    api.addCards(newCard.name, newCard.link).then(newCard => {\n      setCards([newCard, ...cards]);\n      setIsPopupPhotoOpen(false);\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      newCard.onRenderLoading(false);\n    });\n  }\n\n  function handleUpdateAvatar(updateAvatar) {\n    api.editAvatar(updateAvatar.avatar).then(res => {\n      setCurrentUser(res);\n      setIsPopupAvatarOpen(false);\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      updateAvatar.onRenderLoading(false);\n    });\n  }\n\n  function handleEditProfileClick() {\n    setIsPopupProfileOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsPopupPhotoOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsPopupAvatarOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsPopupProfileOpen(false);\n    setIsPopupPhotoOpen(false);\n    setIsPopupAvatarOpen(false);\n    setIsPopupConfirmDelete(false);\n    setIsInfoTooltipOpen(false);\n    setSelectCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.addLike(card._id).then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      }).catch(console.log);\n    } else {\n      api.deleteLike(card._id).then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      }).catch(console.log);\n    }\n  }\n\n  function handleDeleteClick(card) {\n    setIsPopupConfirmDelete(true);\n    setCardDelete(card);\n  }\n\n  function handleCardDelete(obj) {\n    api.deleteCard(cardDelete._id).then(res => {\n      setCards(cards => cards.filter(c => c._id !== cardDelete._id));\n      setIsPopupConfirmDelete(false);\n    }).catch(console.log).finally(() => {\n      obj.onRenderLoading(false);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n      value: currentUser,\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        userEmail: userEmail,\n        signOut: signOut\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/\",\n          loggedIn: loggedIn,\n          children: /*#__PURE__*/_jsxDEV(Main, {\n            cards: cards,\n            onEditProfile: handleEditProfileClick,\n            onAddPlace: handleAddPlaceClick,\n            onEditAvatar: handleEditAvatarClick,\n            onCardClick: handleCardClick,\n            onCardLike: handleCardLike,\n            onCardDelete: handleDeleteClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-up\",\n          children: /*#__PURE__*/_jsxDEV(Register, {\n            handleRegister: handleRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-in\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            handleLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          children: loggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/sign-in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        isOpen: isInfoTooltipOpen,\n        successResult: isRegistrationSuccessful,\n        onClose: closeAllPopups,\n        successMessage: 'Вы успешно зарегистрировались!',\n        failMessage: 'Что-то пошло не так! Попробуйте ещё раз.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n        isOpen: isPopupProfileOpen,\n        onClose: closeAllPopups,\n        onUpdateUser: handleUpdateUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n        isOpen: isPopupAvatarOpen,\n        onClose: closeAllPopups,\n        onUpdateAvatar: handleUpdateAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n        isOpen: isPopupPhotoOpen,\n        onClose: closeAllPopups,\n        onUpdatePhoto: handleAddPlaceSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmDeletePopup, {\n        isOpen: isPopupConfirmDelete,\n        onClose: closeAllPopups,\n        onCardDelete: handleCardDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        card: selectCard,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"CLM6/wY8/NwXQKhLCfK7BDI4rXA=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Route","Redirect","Switch","useHistory","api","auth","Header","Main","Footer","EditProfilePopup","AddPlacePopup","EditAvatarPopup","ConfirmDeletePopup","ImagePopup","Login","Register","InfoTooltip","ProtectedRoute","CurrentUserContext","App","history","loggedIn","setLoggedIn","userEmail","setUserEmail","currentUser","setCurrentUser","cards","setCards","isPopupProfileOpen","setIsPopupProfileOpen","isPopupPhotoOpen","setIsPopupPhotoOpen","isPopupAvatarOpen","setIsPopupAvatarOpen","isPopupConfirmDelete","setIsPopupConfirmDelete","isInfoTooltipOpen","setIsInfoTooltipOpen","isRegistrationSuccessful","setIsRegistrationSuccessful","selectCard","setSelectCard","cardDelete","setCardDelete","tokenCheck","push","Promise","all","getProfile","getCardItems","then","res","catch","err","console","log","handleRegister","updateRegister","register","email","password","finally","onRenderLoading","handleLogin","updateLogin","authorize","data","token","localStorage","setItem","getItem","getContent","signOut","removeItem","handleUpdateUser","updateUser","editProfile","name","about","handleAddPlaceSubmit","newCard","addCards","link","handleUpdateAvatar","updateAvatar","editAvatar","avatar","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","closeAllPopups","handleCardClick","card","handleCardLike","isLiked","likes","some","i","_id","addLike","state","map","c","deleteLike","handleDeleteClick","handleCardDelete","obj","deleteCard","filter"],"sources":["/Users/ivanlapsov/dev/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Route, Redirect, Switch, useHistory } from 'react-router-dom';\nimport { api } from \"../utils/api.js\";\nimport * as auth from \"../utils/auth.js\"\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport ProtectedRoute from './ProtectedRoute.js'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const history = useHistory();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isPopupProfileOpen, setIsPopupProfileOpen] = useState(false);\n  const [isPopupPhotoOpen, setIsPopupPhotoOpen] = useState(false);\n  const [isPopupAvatarOpen, setIsPopupAvatarOpen] = useState(false);\n  const [isPopupConfirmDelete, setIsPopupConfirmDelete] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isRegistrationSuccessful, setIsRegistrationSuccessful] = useState();\n  const [selectCard, setSelectCard] = useState({});\n  const [cardDelete, setCardDelete] = useState({});\n\n  // использование токена при возврате на сайт\n  useEffect(() => {\n    tokenCheck();\n  }, [])\n\n  // при успешной авторизации переход на основную страницу\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [loggedIn])\n\n  // при успешном входе получение данных пользователя и массива карточек\n  useEffect(() => {\n    if(loggedIn) {\n      Promise.all([api.getProfile(), api.getCardItems()])\n      .then(([res, cards]) => {\n        setCurrentUser(res);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  }, [loggedIn]);\n\n  // регистрация пользователей\n  const handleRegister = (updateRegister) => {\n    return auth.register(updateRegister.email, updateRegister.password)\n      .then(() => {\n        setIsInfoTooltipOpen(true);\n        setIsRegistrationSuccessful(true);\n        history.push('/sign-in');\n      })\n      .catch(() => {\n        setIsInfoTooltipOpen(true);\n        setIsRegistrationSuccessful(false);\n      })\n      .finally(() => {\n        updateRegister.onRenderLoading(false)\n      })\n  }\n\n  // авторизация пользователей\n  const handleLogin = (updateLogin) => {\n    return auth.authorize(updateLogin.email, updateLogin.password)\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        setLoggedIn(true);\n        history.push('/');\n      }\n    })\n    .catch(() => {\n      setIsInfoTooltipOpen(true);\n      setIsRegistrationSuccessful(false);\n    })\n    .finally(() => {\n      updateLogin.onRenderLoading(false)\n    })\n  }\n\n  // получение токена\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      auth.getContent(token)\n      .then((res) => {\n        if (res) {\n\n          setUserEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => console.log(err))\n    };\n  };\n\n  //выход со страницы с информацией пользователя\n  const signOut = () => {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  // изменение информации в профиле\n  function handleUpdateUser(updateUser) {\n    api\n      .editProfile(updateUser.name, updateUser.about)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsPopupProfileOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        updateUser.onRenderLoading(false);\n      });\n  }\n\n  // добавление новых фото\n  function handleAddPlaceSubmit(newCard) {\n    api\n      .addCards(newCard.name, newCard.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        setIsPopupPhotoOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        newCard.onRenderLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(updateAvatar) {\n    api\n      .editAvatar(updateAvatar.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsPopupAvatarOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        updateAvatar.onRenderLoading(false);\n      });\n  }\n\n  function handleEditProfileClick() {\n    setIsPopupProfileOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsPopupPhotoOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsPopupAvatarOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsPopupProfileOpen(false);\n    setIsPopupPhotoOpen(false);\n    setIsPopupAvatarOpen(false);\n    setIsPopupConfirmDelete(false);\n    setIsInfoTooltipOpen(false);\n    setSelectCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch(console.log);\n    } else {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch(console.log);\n    }\n  }\n\n  function handleDeleteClick(card) {\n    setIsPopupConfirmDelete(true);\n    setCardDelete(card);\n  }\n\n  function handleCardDelete(obj) {\n    api\n      .deleteCard(cardDelete._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== cardDelete._id));\n        setIsPopupConfirmDelete(false);\n      })\n      .catch(console.log)\n      .finally(() => {\n        obj.onRenderLoading(false);\n      });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          userEmail={userEmail}\n          signOut={signOut} />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn}>\n            <Main\n              cards={cards}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteClick}\n            />\n          </ProtectedRoute>\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister}/>\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to =\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          successResult={isRegistrationSuccessful}\n          onClose={closeAllPopups}\n          successMessage={'Вы успешно зарегистрировались!'}\n          failMessage={'Что-то пошло не так! Попробуйте ещё раз.'}\n        />\n        <EditProfilePopup\n          isOpen={isPopupProfileOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isPopupAvatarOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isPopupPhotoOpen}\n          onClose={closeAllPopups}\n          onUpdatePhoto={handleAddPlaceSubmit}\n        />\n        <ConfirmDeletePopup\n          isOpen={isPopupConfirmDelete}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n        />\n        <ImagePopup card={selectCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}