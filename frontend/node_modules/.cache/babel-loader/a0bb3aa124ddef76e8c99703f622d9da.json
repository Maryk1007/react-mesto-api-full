{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n\n    this._checkResponse = res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getCardItems() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkResponse);\n  }\n\n  addCards(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: url,\n  headers: {\n    authorization: token,\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_checkResponse","res","ok","json","Promise","reject","status","_baseUrl","_headers","getProfile","fetch","then","getCardItems","editProfile","name","about","method","body","JSON","stringify","addCards","link","deleteCard","id","addLike","deleteLike","editAvatar","avatar","api","url","authorization","token"],"sources":["/Users/ivanlapsov/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor({baseUrl, headers}) {\n      this._baseUrl = baseUrl;\n      this._headers = headers;\n    }\n  \n    _checkResponse = (res) => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  \n    getProfile() {\n      return fetch(`${this._baseUrl}/users/me`, {\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    getCardItems() {\n      return fetch(`${this._baseUrl}/cards`, {\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    editProfile(name, about) {\n      return fetch(`${this._baseUrl}/users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name,\n          about\n        })\n      })\n      .then(this._checkResponse)\n    }\n  \n    addCards(name, link) {\n      return fetch(`${this._baseUrl}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name,\n          link,\n        })\n  \n      })\n      .then(this._checkResponse)\n    }\n  \n    deleteCard(id) {\n      return fetch(`${this._baseUrl}/cards/${id}`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    addLike(id) {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    deleteLike(id) {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    editAvatar(avatar) {\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar\n        })\n      })\n      .then(this._checkResponse)\n    }\n  }\n\n  export const api = new Api({\n    baseUrl: url,\n    headers: {\n      authorization: token,\n      'Content-Type': 'application/json'\n    }\n  });"],"mappings":"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"},"metadata":{},"sourceType":"module"}