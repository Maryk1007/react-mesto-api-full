{"ast":null,"code":"export var BASE_URL='https://auth.nomoreparties.co';var checkResponse=function checkResponse(res){if(res.ok){return res.json();}return res.json().then(function(data){var statusCode=data.statusCode;var message=data.message[0].message[0].message;var error=new Error(message||'Что-то пошло не так');error.status=statusCode;throw error;});};export var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(checkResponse);};export var authorize=function authorize(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(checkResponse);};export var getContent=function getContent(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(checkResponse);};","map":{"version":3,"names":["BASE_URL","checkResponse","res","ok","json","then","data","statusCode","message","error","Error","status","register","email","password","fetch","method","headers","body","JSON","stringify","authorize","getContent","token"],"sources":["/Users/ivanlapsov/dev/react-mesto-auth/src/utils/auth.js"],"sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst checkResponse = (res) => {\n  if(res.ok) {\n    return res.json()\n  }\n\n  return res.json()\n  .then((data) => {\n    const { statusCode } = data;\n    const { message } = data.message[0].message[0];\n    const error = new Error(message || 'Что-то пошло не так');\n    error.status = statusCode;\n    throw error;\n  })\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  })\n  .then(checkResponse)\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  })\n  .then(checkResponse)\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then(checkResponse)\n};\n"],"mappings":"AAAA,MAAO,IAAMA,SAAQ,CAAG,+BAAjB,CAEP,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,GAAD,CAAS,CAC7B,GAAGA,GAAG,CAACC,EAAP,CAAW,CACT,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CAED,MAAOF,IAAG,CAACE,IAAJ,GACNC,IADM,CACD,SAACC,IAAD,CAAU,CACd,GAAQC,WAAR,CAAuBD,IAAvB,CAAQC,UAAR,CACA,GAAQC,QAAR,CAAoBF,IAAI,CAACE,OAAL,CAAa,CAAb,EAAgBA,OAAhB,CAAwB,CAAxB,CAApB,CAAQA,OAAR,CACA,GAAMC,MAAK,CAAG,GAAIC,MAAJ,CAAUF,OAAO,EAAI,qBAArB,CAAd,CACAC,KAAK,CAACE,MAAN,CAAeJ,UAAf,CACA,KAAME,MAAN,CACD,CAPM,CAAP,CAQD,CAbD,CAeA,MAAO,IAAMG,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAC3C,MAAOC,MAAK,WAAIf,QAAJ,YAAuB,CACjCgB,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAFwB,CAMjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBP,KAAK,CAALA,KADmB,CAEnBC,QAAQ,CAARA,QAFmB,CAAf,CAN2B,CAAvB,CAAL,CAWNT,IAXM,CAWDJ,aAXC,CAAP,CAYD,CAbM,CAeP,MAAO,IAAMoB,UAAS,CAAG,QAAZA,UAAY,CAACR,KAAD,CAAQC,QAAR,CAAqB,CAC5C,MAAOC,MAAK,WAAIf,QAAJ,YAAuB,CACjCgB,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAFwB,CAMjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBP,KAAK,CAALA,KADmB,CAEnBC,QAAQ,CAARA,QAFmB,CAAf,CAN2B,CAAvB,CAAL,CAWNT,IAXM,CAWDJ,aAXC,CAAP,CAYD,CAbM,CAeP,MAAO,IAAMqB,WAAU,CAAG,QAAbA,WAAa,CAACC,KAAD,CAAW,CACnC,MAAOR,MAAK,WAAIf,QAAJ,cAAyB,CACnCgB,MAAM,CAAE,KAD2B,CAEnCC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAGP,iCAA2BM,KAA3B,CAHO,CAF0B,CAAzB,CAAL,CAQNlB,IARM,CAQDJ,aARC,CAAP,CASD,CAVM"},"metadata":{},"sourceType":"module"}