{"ast":null,"code":"import _classCallCheck from\"/Users/ivanlapsov/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ivanlapsov/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._checkResponse=function(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));};this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"getCardItems\",value:function getCardItems(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"editProfile\",value:function editProfile(name,about){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);}},{key:\"addCards\",value:function addCards(name,link){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"addLike\",value:function addLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkResponse);}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"editAvatar\",value:function editAvatar(avatar){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}}]);return Api;}();export var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-40',headers:{authorization:'727072e6-c5f4-4d87-823d-11ff5d188e34','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","baseUrl","headers","_checkResponse","res","ok","json","Promise","reject","status","_baseUrl","_headers","fetch","then","name","about","method","body","JSON","stringify","link","id","avatar","api","authorization"],"sources":["/Users/ivanlapsov/dev/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n    constructor({baseUrl, headers}) {\n      this._baseUrl = baseUrl;\n      this._headers = headers;\n    }\n  \n    _checkResponse = (res) => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  \n    getProfile() {\n      return fetch(`${this._baseUrl}/users/me`, {\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    getCardItems() {\n      return fetch(`${this._baseUrl}/cards`, {\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    editProfile(name, about) {\n      return fetch(`${this._baseUrl}/users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name,\n          about\n        })\n      })\n      .then(this._checkResponse)\n    }\n  \n    addCards(name, link) {\n      return fetch(`${this._baseUrl}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name,\n          link,\n        })\n  \n      })\n      .then(this._checkResponse)\n    }\n  \n    deleteCard(id) {\n      return fetch(`${this._baseUrl}/cards/${id}`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    addLike(id) {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    deleteLike(id) {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n      .then(this._checkResponse)\n    }\n  \n    editAvatar(avatar) {\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar\n        })\n      })\n      .then(this._checkResponse)\n    }\n  }\n\n  export const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-40',\n    headers: {\n      authorization: '727072e6-c5f4-4d87-823d-11ff5d188e34',\n      'Content-Type': 'application/json'\n    }\n  });"],"mappings":"+OAAMA,I,yBACF,kBAAgC,IAAnBC,QAAmB,MAAnBA,OAAmB,CAAVC,OAAU,MAAVA,OAAU,gCAKhCC,cALgC,CAKf,SAACC,GAAD,QAASA,IAAG,CAACC,EAAJ,CAASD,GAAG,CAACE,IAAJ,EAAT,CAAsBC,OAAO,CAACC,MAAR,iDAA0BJ,GAAG,CAACK,MAA9B,EAA/B,EALe,CAC9B,KAAKC,QAAL,CAAgBT,OAAhB,CACA,KAAKU,QAAL,CAAgBT,OAAhB,CACD,C,0CAID,qBAAa,CACX,MAAOU,MAAK,WAAI,KAAKF,QAAT,cAA8B,CACxCR,OAAO,CAAE,KAAKS,QAD0B,CAA9B,CAAL,CAGNE,IAHM,CAGD,KAAKV,cAHJ,CAAP,CAID,C,4BAED,uBAAe,CACb,MAAOS,MAAK,WAAI,KAAKF,QAAT,WAA2B,CACrCR,OAAO,CAAE,KAAKS,QADuB,CAA3B,CAAL,CAGNE,IAHM,CAGD,KAAKV,cAHJ,CAAP,CAID,C,2BAED,qBAAYW,IAAZ,CAAkBC,KAAlB,CAAyB,CACvB,MAAOH,MAAK,WAAI,KAAKF,QAAT,cAA8B,CACxCM,MAAM,CAAE,OADgC,CAExCd,OAAO,CAAE,KAAKS,QAF0B,CAGxCM,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,IAAI,CAAJA,IADmB,CAEnBC,KAAK,CAALA,KAFmB,CAAf,CAHkC,CAA9B,CAAL,CAQNF,IARM,CAQD,KAAKV,cARJ,CAAP,CASD,C,wBAED,kBAASW,IAAT,CAAeM,IAAf,CAAqB,CACnB,MAAOR,MAAK,WAAI,KAAKF,QAAT,WAA2B,CACrCM,MAAM,CAAE,MAD6B,CAErCd,OAAO,CAAE,KAAKS,QAFuB,CAGrCM,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,IAAI,CAAJA,IADmB,CAEnBM,IAAI,CAAJA,IAFmB,CAAf,CAH+B,CAA3B,CAAL,CASNP,IATM,CASD,KAAKV,cATJ,CAAP,CAUD,C,0BAED,oBAAWkB,EAAX,CAAe,CACb,MAAOT,MAAK,WAAI,KAAKF,QAAT,mBAA2BW,EAA3B,EAAiC,CAC3CL,MAAM,CAAE,QADmC,CAE3Cd,OAAO,CAAE,KAAKS,QAF6B,CAAjC,CAAL,CAINE,IAJM,CAID,KAAKV,cAJJ,CAAP,CAKD,C,uBAED,iBAAQkB,EAAR,CAAY,CACV,MAAOT,MAAK,WAAI,KAAKF,QAAT,mBAA2BW,EAA3B,WAAuC,CACjDL,MAAM,CAAE,KADyC,CAEjDd,OAAO,CAAE,KAAKS,QAFmC,CAAvC,CAAL,CAINE,IAJM,CAID,KAAKV,cAJJ,CAAP,CAKD,C,0BAED,oBAAWkB,EAAX,CAAe,CACb,MAAOT,MAAK,WAAI,KAAKF,QAAT,mBAA2BW,EAA3B,WAAuC,CACjDL,MAAM,CAAE,QADyC,CAEjDd,OAAO,CAAE,KAAKS,QAFmC,CAAvC,CAAL,CAINE,IAJM,CAID,KAAKV,cAJJ,CAAP,CAKD,C,0BAED,oBAAWmB,MAAX,CAAmB,CACjB,MAAOV,MAAK,WAAI,KAAKF,QAAT,qBAAqC,CAC/CM,MAAM,CAAE,OADuC,CAE/Cd,OAAO,CAAE,KAAKS,QAFiC,CAG/CM,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBG,MAAM,CAANA,MADmB,CAAf,CAHyC,CAArC,CAAL,CAONT,IAPM,CAOD,KAAKV,cAPJ,CAAP,CAQD,C,mBAGH,MAAO,IAAMoB,IAAG,CAAG,GAAIvB,IAAJ,CAAQ,CACzBC,OAAO,CAAE,6CADgB,CAEzBC,OAAO,CAAE,CACPsB,aAAa,CAAE,sCADR,CAEP,eAAgB,kBAFT,CAFgB,CAAR,CAAZ"},"metadata":{},"sourceType":"module"}